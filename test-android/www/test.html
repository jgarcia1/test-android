<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="msapplication-tap-highlight" content="no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi" />
	<!-- meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" /-->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<title></title>
	<style>
	@keyframes animatedBackground {
		0% { background-position: 0 0; }
		100% { background-position: -1600px 0; }
	}
	@-moz-keyframes animatedBackground {
		0% { background-position: 0 0; }
		100% { background-position: -1600px 0; }
	}
	@-webkit-keyframes animatedBackground {
		0% { background-position: 0 0; }
		100% { background-position: -1600px 0; }
	}
	@-ms-keyframes animatedBackground {
		0% { background-position: 0 0; }
		100% { background-position: -1600px 0; }
	}
	@-o-keyframes animatedBackground {
		0% { background-position: 0 0; }
		100% { background-position: -1600px 0; }
	}
	.drag {
		position: absolute;
		//background: #BCE;
		height: 58px;
		width: 58px;
		cursor: move;
		top: 40px;
		min-width: 50px;
		background-image: url(img/line.png);
		background-repeat: repeat-x;
		background-position: 100% 0;
		z-index: 999;

		animation: animatedBackground 10s linear infinite;
		-moz-animation: animatedBackground 10s linear infinite;
		-webkit-animation: animatedBackground 10s linear infinite;
		-ms-animation: animatedBackground 10s linear infinite;
		-o-animation: animatedBackground 10s linear infinite;

		-webkit-animation-play-state: paused; /* Chrome, Safari, Opera */
    	animation-play-state: paused;
		}

	.drag-conteiner {
		//margin-top:100px;
		background-color:#F1EFE2;
		float:left;
		clear:both;
		height: 165px;
		width: 100%;
		position:relative;
		}

	#grad {
	  background: -webkit-linear-gradient(left, transparent , #F1EFE2); /* For Safari 5.1 to 6.0 */
	  background: -o-linear-gradient(right, transparent, #F1EFE2); /* For Opera 11.1 to 12.0 */
	  background: -moz-linear-gradient(right, transparent, #F1EFE2); /* For Firefox 3.6 to 15 */
	  background: linear-gradient(to right, transparent , #F1EFE2); /* Standard syntax */
	  width: 50px;
	  height: 100%;
	  float:right;
	}

	#draw {
		border: 1px solid #AAA;
		background: #EEE;
	}

	.drag-conteiner .animaciones {
		display: none;
		//position: absolute;
		margin-left: auto;
		margin-right: auto;
		text-align: center;
		z-index: 998;
	}

	</style>
</head>
	
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<div class="drag-conteiner">
		<div class="drag">
			<div id="grad"></div>
		</div>
		<div class="animaciones"><img src="" height="100%" /></div>
	</div>

	<a href="#" class="pausar">Pausar</a>
	<!-- canvas id="draw" width="680" height="300"></canvas -->
</body>
<script src="js/jquery-1.11.3.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.event.drag-2.2.js"></script>

<script type="text/javascript">

	$(function($){
		$('.drag').drag(function( ev, dd ){

			$('.drag').css("-webkit-animation-play-state", "running");
			$('.drag').css("animation-play-state", "running");
			
			var topContainer = Math.round($('.drag-conteiner').offset().top);
			var maxTop = $('.drag-conteiner').height() - $('.drag').height(); 
			var minTop = 0;

			dd.offsetY = dd.offsetY - topContainer;

			if(dd.offsetY > maxTop)
				totalTop = maxTop;
			else if(dd.offsetY < minTop)
				totalTop = minTop;
			else
				totalTop = dd.offsetY;

			$( this ).css({
				top: totalTop,
				width: dd.offsetX,
			});
		});
	});

	$('.pausar').click(function(){
			$('.drag').css("-webkit-animation-play-state", "paused");
			$('.drag').css("animation-play-state", "paused");
	});

	setTimeout(function(){
		$('.drag-conteiner .animaciones').fadeIn();
		$('.drag-conteiner .animaciones img').attr("src","img/peces.gif");
	}, 3000);

	setTimeout(function(){
		$('.drag-conteiner .animaciones').fadeOut();
	}, 8000);
</script>

</html>
